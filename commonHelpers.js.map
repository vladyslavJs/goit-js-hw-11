{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nform.addEventListener('submit', renderImages);\n\nfunction renderImages(event) {\n    event.preventDefault();\n    gallery.innerHTML = '';\n\n    const userSearch = form.search.value.trim();\n\n    const url = new URL('https://pixabay.com/api/');\n    url.searchParams.append('key', '41672055-9590fca4951a86a4742f5f771');\n    url.searchParams.append('q', userSearch);\n    url.searchParams.append('image_type', 'photo');\n    url.searchParams.append('orientation', 'horizontal');\n    url.searchParams.append('safesearch', true);\n\n    loader.classList.remove('hide');\n\n    fetch(url)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error('Your request is not ok!');\n            }\n            loader.classList.add('hide');\n            return response.json();\n        })\n        .then(images => {\n            if (images.hits.length === 0) {\n                iziToast.error({\n                    title: 'Sorry, there are no images matching your search query.',\n                    message: 'Please, try again!',\n                    color: '#EF4040',\n                    messageColor: '#FFF',\n                    titleColor: '#FFF',\n                    theme: 'dark',\n                    progressBarColor: '#B51B1B',\n                });\n            }\n\n            gallery.innerHTML = images.hits.reduce(\n                (\n                    acc,\n                    {\n                        webformatURL,\n                        largeImageURL,\n                        tags,\n                        likes,\n                        views,\n                        comments,\n                        downloads,\n                    }\n                ) =>\n                    acc +\n                    `<li class='gallery-item'>\n                        <a class='gallery-link' href='${largeImageURL}'>\n                            <img\n                                class='gallery-image'\n                                src='${webformatURL}'\n                                alt='${tags}'\n                                width='360'\n                                height='200'\n                                />\n                        </a>\n                        <ul class='gallery-statistic'>\n                            <li><p class='statistic'>ü©µLikes: <span>${likes}</span></p></li>\n                            <li><p class='statistic'>üëÅViews: <span>${views}</span></p></li>\n                            <li><p class='statistic'>üí¨Comments: <span>${comments}</span></p></li>\n                            <li><p class='statistic'>‚åõDownloads: <span>${downloads}</span></p></li>\n                        </ul>    \n                        `,\n                ''\n            );\n            lightbox.refresh();\n        })\n        .catch(error => console.log(error))\n        .finally(() => form.reset());\n}\n\n"],"names":["form","gallery","loader","lightbox","SimpleLightbox","renderImages","event","userSearch","url","response","images","iziToast","acc","webformatURL","largeImageURL","tags","likes","views","comments","downloads","error"],"mappings":"6vBAMA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEDJ,EAAK,iBAAiB,SAAUK,CAAY,EAE5C,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EACpBL,EAAQ,UAAY,GAEpB,MAAMM,EAAaP,EAAK,OAAO,MAAM,KAAI,EAEnCQ,EAAM,IAAI,IAAI,0BAA0B,EAC9CA,EAAI,aAAa,OAAO,MAAO,oCAAoC,EACnEA,EAAI,aAAa,OAAO,IAAKD,CAAU,EACvCC,EAAI,aAAa,OAAO,aAAc,OAAO,EAC7CA,EAAI,aAAa,OAAO,cAAe,YAAY,EACnDA,EAAI,aAAa,OAAO,aAAc,EAAI,EAE1CN,EAAO,UAAU,OAAO,MAAM,EAE9B,MAAMM,CAAG,EACJ,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,yBAAyB,EAE7C,OAAAP,EAAO,UAAU,IAAI,MAAM,EACpBO,EAAS,MAC5B,CAAS,EACA,KAAKC,GAAU,CACRA,EAAO,KAAK,SAAW,GACvBC,EAAS,MAAM,CACX,MAAO,yDACP,QAAS,qBACT,MAAO,UACP,aAAc,OACd,WAAY,OACZ,MAAO,OACP,iBAAkB,SACtC,CAAiB,EAGLV,EAAQ,UAAYS,EAAO,KAAK,OAC5B,CACIE,EACA,CACI,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACH,IAEDP,EACA;AAAA,wDACoCE;AAAA;AAAA;AAAA,uCAGjBD;AAAA,uCACAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sEAM+BC;AAAA,sEACAC;AAAA,yEACGC;AAAA,yEACAC;AAAA;AAAA,0BAGzD,EAChB,EACYhB,EAAS,QAAO,CAC5B,CAAS,EACA,MAAMiB,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAMpB,EAAK,MAAK,CAAE,CACnC"}